# ================================
# Supabase 配置（必需）
# ================================
# 获取方式：
# 1. 访问 https://supabase.com 并创建项目
# 2. 进入项目 → Settings → API
# 3. 复制 Project URL 和 service_role/secret key（两种格式都可）
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... 或 sb_secret_xxx...

# ================================
# JWT 密钥（必需）
# ================================
# 用于生成用户登录 Token
# 建议使用随机字符串：openssl rand -base64 32
JWT_SECRET=changli-dev-secret

# ================================
# Redis 配置（必需）
# ================================
# 选项1 - 本地开发：redis://localhost:6379
# 选项2 - Upstash/Redis Cloud：rediss://username:password@host:port
REDIS_URL=redis://localhost:6379

# ================================
# Gemini API（可选但推荐）
# ================================
# 获取方式：https://aistudio.google.com/app/apikey
# 不填写会使用 Mock 模式
GEMINI_API_KEY=

# ================================
# 邮件验证码（可选，仅 /api/auth/send-code 使用）
# ================================
# 当前登录/注册已走 Supabase Auth（不再依赖邮箱验证码）
# 如果你仍要保留验证码接口，可配置 Resend
RESEND_API_KEY=
EMAIL_FROM=Changli OJ <noreply@example.com>
ALLOW_DEV_CODE_FALLBACK=false

# ================================
# 权限邮箱（可选）
# ================================
# ROOT_EMAILS：最高权限
# DEVELOPER_EMAILS：开发者权限（可访问管理面板）
# ADMIN_EMAILS：兼容旧配置，等同于 DEVELOPER_EMAILS
# 多个邮箱用英文逗号分隔
ROOT_EMAILS=root@example.com
DEVELOPER_EMAILS=dev@example.com
ADMIN_EMAILS=

# ================================
# 可选配置
# ================================
# AI 每日使用限制（默认20次/天）
AI_DAILY_LIMIT=20

# 文件上传大小限制（默认10MB = 10485760字节）
MAX_FILE_SIZE=10485760
