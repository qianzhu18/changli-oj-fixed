<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ·é¢˜ç»ƒä¹  - test-quiz-simple</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .correct { 
            background-color: #dcfce7 !important; 
            border-color: #16a34a !important; 
            color: #15803d !important; 
        }
        .incorrect { 
            background-color: #fef2f2 !important; 
            border-color: #dc2626 !important; 
            color: #dc2626 !important; 
        }
        .option-btn {
            transition: all 0.2s ease;
        }
        .option-btn:hover:not(:disabled) {
            background-color: #f3f4f6;
            transform: translateY(-1px);
        }
        .progress-bar {
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <!-- å¤´éƒ¨ -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <h1 class="text-3xl font-bold text-gray-800 mb-2">åˆ·é¢˜ç»ƒä¹  - test-quiz-simple</h1>
            <p class="text-gray-600">å…± 5 é¢˜ | å½“å‰è¿›åº¦: <span id="progress-text">0/5</span></p>
            <div class="w-full bg-gray-200 rounded-full h-2 mt-3">
                <div id="progress-bar" class="progress-bar bg-blue-500 h-2 rounded-full" style="width: 0%"></div>
            </div>
        </div>
        
        <!-- é¢˜ç›®åŒºåŸŸ -->
        <div id="question-container" class="bg-white rounded-xl shadow-lg p-8 mb-6">
            <!-- åŠ¨æ€å†…å®¹ -->
        </div>
        
        <!-- æ§åˆ¶æŒ‰é’® -->
        <div class="flex justify-between items-center">
            <button id="prev-btn" class="px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed">
                â† ä¸Šä¸€é¢˜
            </button>
            
            <div class="flex gap-3">
                <button id="restart-btn" class="px-6 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600">
                    ğŸ”„ é‡æ–°å¼€å§‹
                </button>
                <button id="random-btn" class="px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600">
                    ğŸ² éšæœºé¡ºåº
                </button>
            </div>
            
            <button id="next-btn" class="px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600">
                ä¸‹ä¸€é¢˜ â†’
            </button>
        </div>
        
        <!-- æˆç»©ç»Ÿè®¡ -->
        <div id="stats" class="mt-6 bg-white rounded-xl shadow-lg p-6 hidden">
            <h2 class="text-2xl font-bold text-center mb-4">ğŸ‰ ç»ƒä¹ å®Œæˆï¼</h2>
            <div class="grid grid-cols-3 gap-4 text-center">
                <div class="bg-green-50 p-4 rounded-lg">
                    <div class="text-2xl font-bold text-green-600" id="correct-count">0</div>
                    <div class="text-green-600">æ­£ç¡®</div>
                </div>
                <div class="bg-red-50 p-4 rounded-lg">
                    <div class="text-2xl font-bold text-red-600" id="wrong-count">0</div>
                    <div class="text-red-600">é”™è¯¯</div>
                </div>
                <div class="bg-blue-50 p-4 rounded-lg">
                    <div class="text-2xl font-bold text-blue-600" id="accuracy">0%</div>
                    <div class="text-blue-600">æ­£ç¡®ç‡</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const questions = [
  {
    "id": 1,
    "question": "1. JavaScriptæ˜¯ä»€ä¹ˆç±»å‹çš„ç¼–ç¨‹è¯­è¨€ï¼Ÿ",
    "options": [
      "ç¼–è¯‘å‹è¯­è¨€",
      "è§£é‡Šå‹è¯­è¨€",
      "æ±‡ç¼–è¯­è¨€",
      "æœºå™¨è¯­è¨€"
    ],
    "correctAnswer": 1,
    "explanation": "JavaScriptæ˜¯ä¸€ç§è§£é‡Šå‹ç¼–ç¨‹è¯­è¨€ï¼Œä»£ç åœ¨è¿è¡Œæ—¶ç”±JavaScriptå¼•æ“é€è¡Œè§£é‡Šæ‰§è¡Œã€‚"
  },
  {
    "id": 2,
    "question": "2. ä»¥ä¸‹å“ªä¸ªä¸æ˜¯JavaScriptçš„æ•°æ®ç±»å‹ï¼Ÿ",
    "options": [
      "string",
      "number",
      "char",
      "boolean"
    ],
    "correctAnswer": 2,
    "explanation": "JavaScriptä¸­æ²¡æœ‰charæ•°æ®ç±»å‹ï¼Œå­—ç¬¦é€šå¸¸ç”¨stringç±»å‹è¡¨ç¤ºã€‚"
  },
  {
    "id": 3,
    "question": "3. å¦‚ä½•åœ¨JavaScriptä¸­å£°æ˜ä¸€ä¸ªå˜é‡ï¼Ÿ",
    "options": [
      "var name",
      "variable name",
      "declare name",
      "dim name"
    ],
    "correctAnswer": 0,
    "explanation": "åœ¨JavaScriptä¸­ï¼Œå¯ä»¥ä½¿ç”¨varã€letæˆ–constå…³é”®å­—æ¥å£°æ˜å˜é‡ã€‚"
  },
  {
    "id": 4,
    "question": "4. ä»¥ä¸‹å“ªä¸ªæ–¹æ³•å¯ä»¥å‘æ•°ç»„æœ«å°¾æ·»åŠ å…ƒç´ ï¼Ÿ",
    "options": [
      "push()",
      "pop()",
      "shift()",
      "unshift()"
    ],
    "correctAnswer": 0,
    "explanation": "push()æ–¹æ³•ç”¨äºå‘æ•°ç»„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„æ•°ç»„é•¿åº¦ã€‚"
  },
  {
    "id": 5,
    "question": "5. JavaScriptä¸­çš„nullå’Œundefinedæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ",
    "options": [
      "æ²¡æœ‰åŒºåˆ«",
      "nullè¡¨ç¤ºç©ºå€¼ï¼Œundefinedè¡¨ç¤ºæœªå®šä¹‰",
      "undefinedè¡¨ç¤ºç©ºå€¼ï¼Œnullè¡¨ç¤ºæœªå®šä¹‰",
      "éƒ½è¡¨ç¤ºæ•°å­—0"
    ],
    "correctAnswer": 1,
    "explanation": "nullè¡¨ç¤ºä¸€ä¸ªç©ºçš„å¯¹è±¡å¼•ç”¨ï¼Œè€Œundefinedè¡¨ç¤ºå˜é‡å·²å£°æ˜ä½†æœªèµ‹å€¼æˆ–å¯¹è±¡å±æ€§ä¸å­˜åœ¨ã€‚"
  }
];
        let currentIndex = 0;
        let userAnswers = new Map();
        let isRandomMode = false;
        
        function updateProgress() {
            const answered = userAnswers.size;
            const total = questions.length;
            const percentage = (answered / total) * 100;
            
            document.getElementById('progress-text').textContent = `${answered}/${total}`;
            document.getElementById('progress-bar').style.width = `${percentage}%`;
        }
        
        function renderQuestion() {
            const question = questions[currentIndex];
            const container = document.getElementById('question-container');
            const isAnswered = userAnswers.has(question.id);
            
            let html = `
                <div class="mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold text-gray-800">é¢˜ç›® ${currentIndex + 1}</h2>
                        <span class="text-sm text-gray-500">ID: ${question.id}</span>
                    </div>
                    <p class="text-lg leading-relaxed mb-8 text-gray-700">${question.question}</p>
                    <div class="grid gap-3">
            `;
            
            question.options.forEach((option, index) => {
                const letter = String.fromCharCode(65 + index);
                const isSelected = isAnswered && userAnswers.get(question.id).selected === index;
                const isCorrect = index === question.correctAnswer;
                
                let className = 'option-btn w-full p-4 text-left border-2 rounded-lg font-medium';
                
                if (isAnswered) {
                    if (isCorrect) {
                        className += ' correct';
                    } else if (isSelected) {
                        className += ' incorrect';
                    } else {
                        className += ' border-gray-200 text-gray-500';
                    }
                } else {
                    className += ' border-gray-200 hover:border-blue-300 cursor-pointer';
                }
                
                html += `
                    <button onclick="selectAnswer(${index})" 
                            class="${className}"
                            ${isAnswered ? 'disabled' : ''}>
                        <span class="font-bold">${letter}.</span> ${option}
                    </button>
                `;
            });
            
            html += '</div>';
            
            if (isAnswered && question.explanation) {
                const userAnswer = userAnswers.get(question.id);
                const isCorrect = userAnswer.selected === question.correctAnswer;
                
                html += `
                    <div class="mt-8 p-6 ${isCorrect ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'} rounded-lg">
                        <div class="flex items-center mb-3">
                            <span class="text-2xl mr-2">${isCorrect ? 'âœ…' : 'âŒ'}</span>
                            <h3 class="text-lg font-bold ${isCorrect ? 'text-green-800' : 'text-red-800'}">
                                ${isCorrect ? 'å›ç­”æ­£ç¡®ï¼' : 'å›ç­”é”™è¯¯ï¼'}
                            </h3>
                        </div>
                        <p class="${isCorrect ? 'text-green-700' : 'text-red-700'} leading-relaxed">
                            <strong>è§£é‡Šï¼š</strong>${question.explanation}
                        </p>
                    </div>
                `;
            }
            
            html += '</div>';
            container.innerHTML = html;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.getElementById('prev-btn').disabled = currentIndex === 0;
            document.getElementById('next-btn').textContent = 
                currentIndex === questions.length - 1 ? 'æŸ¥çœ‹æˆç»©' : 'ä¸‹ä¸€é¢˜ â†’';
        }
        
        function selectAnswer(optionIndex) {
            const question = questions[currentIndex];
            if (userAnswers.has(question.id)) return;
            
            const isCorrect = optionIndex === question.correctAnswer;
            userAnswers.set(question.id, {
                selected: optionIndex,
                correct: isCorrect
            });
            
            updateProgress();
            renderQuestion();
            
            // è‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€é¢˜ï¼ˆå»¶è¿Ÿ2ç§’ï¼‰
            setTimeout(() => {
                if (currentIndex < questions.length - 1) {
                    nextQuestion();
                } else {
                    showStats();
                }
            }, 2000);
        }
        
        function nextQuestion() {
            if (currentIndex < questions.length - 1) {
                currentIndex++;
                renderQuestion();
            } else {
                showStats();
            }
        }
        
        function prevQuestion() {
            if (currentIndex > 0) {
                currentIndex--;
                renderQuestion();
            }
        }
        
        function showStats() {
            const correct = Array.from(userAnswers.values()).filter(a => a.correct).length;
            const total = userAnswers.size;
            const accuracy = total > 0 ? Math.round((correct / total) * 100) : 0;
            
            document.getElementById('correct-count').textContent = correct;
            document.getElementById('wrong-count').textContent = total - correct;
            document.getElementById('accuracy').textContent = accuracy + '%';
            document.getElementById('stats').classList.remove('hidden');
        }
        
        function restart() {
            userAnswers.clear();
            currentIndex = 0;
            document.getElementById('stats').classList.add('hidden');
            updateProgress();
            renderQuestion();
        }
        
        function randomize() {
            // Fisher-Yates æ´—ç‰Œç®—æ³•
            for (let i = questions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [questions[i], questions[j]] = [questions[j], questions[i]];
            }
            restart();
        }
        
        // äº‹ä»¶ç›‘å¬
        document.getElementById('next-btn').addEventListener('click', nextQuestion);
        document.getElementById('prev-btn').addEventListener('click', prevQuestion);
        document.getElementById('restart-btn').addEventListener('click', restart);
        document.getElementById('random-btn').addEventListener('click', randomize);
        
        // é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') prevQuestion();
            if (e.key === 'ArrowRight') nextQuestion();
            if (e.key >= '1' && e.key <= '4') {
                const index = parseInt(e.key) - 1;
                selectAnswer(index);
            }
        });
        
        // åˆå§‹åŒ–
        updateProgress();
        renderQuestion();
        
        console.log('ğŸ‰ åˆ·é¢˜ç³»ç»Ÿå·²åŠ è½½ï¼Œå…±', questions.length, 'é¢˜');
        console.log('ğŸ’¡ å¿«æ·é”®ï¼šâ† â†’ åˆ‡æ¢é¢˜ç›®ï¼Œ1-4 é€‰æ‹©ç­”æ¡ˆ');
    </script>
</body>
</html>